if (self.CavalryLogger) { CavalryLogger.start_js(["M2zXZ"]); }

__d("AdsMediaPickerDialogContext",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("react").createContext({})}),null);
__d("ChatEventPlanButton.react",["cx","fbt","Bootloader","BootloadOnRender.react","ChatConfig","ChatFlyoutPlaceholder.react","EventsActionsLogger","JSResource","LazyComponent.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showFlyout:!1,eventID:null},d.$2=!1,d.$3=function(){__p&&__p();b("Bootloader").loadModules(["EventReminderStateStore","EventReminderRequestHelper","EventReminderActionsLogger","M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b,c,e,f){__p&&__p();c.logClickOnEntryPoint();new e().setEvent(f.CLICK_EVENT_PLAN).log();var g=a.getSingleEventByThreadID(d.props.threadID);if(!d.$2)return;c=d.state.showFlyout;!d.props.showReminder&&g&&g.exists?(d.$1=!0,!d.state.showFlyout?b.fetchEventReminder(d.props.threadID,g.eventID,function(){if(!d.$2)return;d.setState({showFlyout:!0,eventID:g.eventID})}):d.setState({showFlyout:!1})):(d.$1=!1,d.setState({showFlyout:!c,eventID:null}))},"ChatEventPlanButton.react")},d.onToggle=function(a){a!==d.state.showFlyout&&d.setState({showFlyout:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2=!0};d.componentWillUnmount=function(){this.$2=!1};d.render=function(){var a=this.props.showReminder?h._("Commencer un rappel"):h._("Cr\u00e9er un programme");return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this.$3,ref:"event_plan",role:"button",title:a},this.$4()))};d.$4=function(){var a=this;if(!this.state.showFlyout)return null;var c={alignment:"right",position:"above",contextRef:function(){return a.refs.event_plan},shown:this.state.showFlyout,onToggle:this.onToggle},d={action_history:[{surface:b("EventsActionsLogger").Surface.MESSENGER_CHAT_TAB,mechanism:b("EventsActionsLogger").Mechanism.MESSENGER_COMPOSER}]};return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{actionContext:d,dialogProps:c,flyoutNoSheet:!0,isEditing:this.$1,threadID:this.props.threadID,eventID:this.state.eventID,onSuccess:this.props.onSuccess,showReminder:!!this.props.showReminder}),loader:b("JSResource")("ChatEventReminderContainer.react").__setRef("ChatEventPlanButton.react"),placeholder:b("React").createElement(b("ChatFlyoutPlaceholder.react"),null)})};return c}(b("React").PureComponent);a.defaultProps={className:"_6gb _3k_u _6jtw"};e.exports=a}),null);